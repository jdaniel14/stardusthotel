@model Stardust.Models.OrdenCompraBean

<h2>Registrar Orden de Compra</h2>

@*<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>*@
<script src="@Url.Content("~/Scripts/jquery-1.4.4.min.js")" type="text/javascript"></script>
@*<script src="@Url.Content("~/Scripts/jquery.validationEngine-en.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validationEngine.js")" type="text/javascript"></script>*@

<script type="text/javascript">
    $(function () {
        $("select#OS").change(function (evt) {

            if ($("select#OS").val() != "-1") {

                $.ajax({
                    url: "/OrdenCompra/GetProducto",
                    type: 'POST',
                    data: { OS: $("select#OS").val() },
                    success: function (response) {
                        $("select#Version").replaceWith(response)
                    },
                    error: function (xhr) {
                        alert("Something went wrong, please try again");
                    }
                });
            }
        });
    });
</script>

@*@using (Html.BeginForm("Registrar", "OrdenCompra", FormMethod.Post, new { @class = "form", id="validate" }))
{
    @Html.ValidationSummary(false)
    <fieldset>
            <div class="widget">
            <div class="title">
                <h6>Registrar Orden de Compra</h6>
            </div>*@

            @*<div class="formRow">
               @Html.LabelFor(model => model.nombreproveedor)
               <div class = "formRight" >
                   <select id="ID" name="ID">
                        @foreach (var item in Model.getProveedor)
                        {
                            <option value="@item.ID">@item.Nombre</option>
                        }
                    </select>
               </div>
                @*<div class = "formRight" >@Html.TextBoxFor(model => model.nombre,new {@class="validate[required,custom[onlyLetterSp]]" ,name="lettersValid", maxlength = "20", placeholder = "Maximo 20 caracteres aqui"})</div>
                <div class = "clear" ></div>
            </div>

            <div class="formRow">
                
               @Html.LabelFor(model => model.idProd)
               <div class = "formRight" >
                    <select id="id" name="id">
                        <option value="-1">Seleccione ...</option>
                    </select></div>
                <div class = "formRight" >@Html.TextAreaFor(model => model.descripcion, new {@class="validate[required]" ,name="textarea" ,cols="" ,rows="8"} )</div>
                 <div class = "clear" ></div>
            </div>*@

            Proveedor:

            <select id="OS" name="OS">
                <option value="-1">Select ...</option>
                @foreach (var item in Model.getProveedor)
                                    {
                                        <option value="@item.ID">@item.Nombre</option>
                                    }
            </select>

             and choose Version:

            <select id="Version" name="Version">
            <option value="-1">Select ...</option>
            </select>
            
            @*"validate[required,custom[onlyLetterNumber]]" ,type="text" ,name="regexValid" ,value="too many spaces obviously"*@
@*            </div>
    </fieldset>
            <p></p> <p></p> <p></p>
    <div>
           <input type="submit" value="Generar" class = "redB" />
    </div>
}

<div>
    @Html.ActionLink("Regresar", "../Home/Index")
</div>*@