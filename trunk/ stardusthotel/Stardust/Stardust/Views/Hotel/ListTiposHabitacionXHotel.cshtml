@model IEnumerable<Stardust.Models.TipoHabitacionXHotelViewModelList>

@{
    ViewBag.Title = "Ver tipos de habitacion";
}

<h3>Hotel: @ViewBag.nombreHotel </h3>

<p>
    <a href="@Url.Action("CreateTipoHabitacionXHotel", new { id = ViewBag.idHotel })">
        <img src="@Url.Content("~/Content/images/icons/color/plus.png")" alt="Edit" />
        Añadir tipo de habitación
    </a>
</p>

<div class="wrapper">
    <div class="widget">
        <div class="title"><h6>Lista de Tipos de Habitacion</h6></div>
        <div class="dataTables_wrapper">
            <table cellpadding = "0" cellspacing = "0" width = "100%" class = "display dTable">
                <thead>
                    <tr>
                        <th class="ui-state-default" rowspan="1" colspan="1" style="width:209px;" >
                            <div class="DataTables_sort_wrapper">
                            Nombre del Tipo de Habitacion
                            <span class="DataTables_sort_icon css_right ui-icon ui-icon-triangle-1-s"></span>
                            </div>
                        </th>
                        <th class="ui-state-default" rowspan="1" colspan="1" style="width:209px;" >
                            <div class="DataTables_sort_wrapper">
                            Precio Base (S/.)
                            <span class="DataTables_sort_icon css_right ui-icon ui-icon-triangle-1-s"></span>
                            </div>
                        </th>
                        <th class="ui-state-default" rowspan="1" colspan="1" style="width:209px;" >
                            <div class="DataTables_sort_wrapper">
                            Descripción
                            <span class="DataTables_sort_icon css_right ui-icon ui-icon-triangle-1-s"></span>
                            </div>
                        </th>
                        <th class="ui-state-default" rowspan="1" colspan="1" style="width:209px;" >
                            <div class="DataTables_sort_wrapper">
                            Precio
                            <span class="DataTables_sort_icon css_right ui-icon ui-icon-triangle-1-s"></span>
                            </div>
                        </th>
                        <th class="ui-state-default" rowspan="1" colspan="1" style="width:209px;" >
                            <div class="DataTables_sort_wrapper">
                            Número de Personas
                            <span class="DataTables_sort_icon css_right ui-icon ui-icon-triangle-1-s"></span>
                            </div>
                        </th>
                        <th class="ui-state-default" rowspan="1" colspan="1" style="width:209px;" >
                            <div class="DataTables_sort_wrapper">
                            &nbsp
                            <span class="DataTables_sort_icon css_right ui-icon ui-icon-triangle-1-s"></span>
                            </div>
                        </th>
                    </tr>
                </thead>

                <tbody>
                @foreach (var item in Model)
                {
                    <tr class="gradeA odd">
                        <td>@Html.DisplayFor(modelItem => item.nombre)</td>
                        <td>@Html.DisplayFor(modelItem => item.precio)</td>
                        <td>@Html.DisplayFor(modelItem => item.descripcion)</td>
                        <td>@Html.DisplayFor(modelItem => item.precio)</td>
                        <td>@Html.DisplayFor(modelItem => item.nroPersonas)</td>
                        <td>
                            <a href="@Url.Action("EditTipoHabitacionXHotel", new { idTipoHabitacion = item.idTipoHabitacion, idHotel = ViewBag.idHotel })"><img src="@Url.Content("~/Content/images/icons/color/pencil.png")" alt="Edit" />Editar </a> | 
                            @*<a href="@Url.Action("Delete", new { id = item.idTipoHabitacion })"><img src="@Url.Content("~/Content/images/icons/color/cross.png")" alt="Delete" />Borrar</a>*@
                        </td>
                    </tr>
                }

                <div id="dialogEliminar" title="Desea Eliminar el Producto?">
	                <p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>
                        El Tipo de Habitación asignado al Hotel que UD. desea eliminar no podrá ser recuperado.
                    </p>
                </div>

                </tbody>
            </table>
        </div>
    </div>
</div>

<script type = "text/javascript">
    var idEliminar = 0;
    $(".eliminar").click(function () {
        //Jp++ GPL version xD
        $('#dialogEliminar').dialog('open');
        idEliminar = $(this).attr("id");
        return false;
    });

    $('#dialogEliminar').dialog({
        autoOpen: false,
        resizable: false,
        draggable: false,
        width: 300,
        modal: true,
        title: "!Confirmar Eliminacion de Producto",
        position: "center",
        buttons: {
            "Aceptar": function () {
                $.ajax({
                    type: "POST",
                    dataType: "json",
                    contentType: "application/json; charset=utf-8",
//                    url: "Delete/" + idEliminar,
                    success: function (data) {
                        //oTable.fnDraw(false);
                        if (data.me == "") {
                            $(this).dialog("close");
                            location.reload();
                        }
                    }
                });

            },
            "Cancelar": function () {
                $(this).dialog("close");
                return false;
            }
        }
    });

</script>

<br/><br/>
<div>
    @Html.ActionLink("Regresar", "List")
</div>
